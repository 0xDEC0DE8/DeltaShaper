# DeltaShaper

DeltaShaper is a censorship-resistant communication system which allows for the use of typical TCP/IP applications that tolerate low throughput / high latency links. Our system takes advantage of a general technique called protocol tunneling to stealthily convey a covert channel over videoconferencing streams, in particular Skype videocalls. The system features an adaptation mechanism to dynamically accomodate for perturbations on network conditions in an effort to maintain the unobservability of the covert channel.

A [paper](http://web.ist.utl.pt/diogo.barradas/papers/DeltaShaper_PETS17.pdf) featuring the description and experimental evaluation of DeltaShaper will be presented at PETS 2017. 

# System Overview

DeltaShaper provides a data-link interface, allowing the client and server of DeltaShaper to exchange network traffic generated by typical TCP applications. Network traffic is encoded into images which are transmitted through Skype, in such a way that the resulting packet stream cannot be distinguished from those streams which do not carry a covert channel. In our work, we have proposed and evaluated different alternatives to encode information in the video stream in order to increase available throughput; to preserve the packet trace characteristics of regular videocalls; and to resist against traffic analysis. 

<img src="http://web.ist.utl.pt/diogo.barradas/papers/figures/overview.png" width="700">

In practice, the images encoding network data (_payload frames_) are overlapped on the video frames of a typical chat video (_cover frames_), producing _covert frames_ which are transmitted over Skype.


<img src="http://web.ist.utl.pt/diogo.barradas/papers/figures/covert_frame.png" width="500">
 

# Adaptation Mechanism

Although a given data encoding scheme can work properly in a given network condition, censors may attempt to perturb the network conditions in which Skype calls take place in an attempt to identify DeltaShaper streams.

To mitigate the effect of such actions, DeltaShaper carries out a periodical calibration procedure which dynamically reconfigures the parameters used to encode network data in the video stream. This calibration procedure takes advantage of a baseline of packet traces from regular videochat streams gathered in different network conditions.


# Instructions for DeltaShaper Setup

We have developed a proof-of-concept of our system and made its source code available. Instructions for setting up and operating our DeltaShaper prototype are available in the [GitHub repository](https://github.com/dmbb/DeltaShaper). 
